<section>
  <h2>Resource Example</h2>
  <pre>
      <code data-trim data-noescape data-line-numbers="1-13|15-19|21-29">
KmsKey:
  Type: AWS::KMS::Key
  Properties:
    KeyPolicy:
      Version: 2012-10-17
      Id: MyKeyPolicyId
      Statement:
        - Sid: Enable IAM User Permissions
          Effect: Allow
          Principal:
            AWS: !Sub "arn:aws:iam::${AWS::AccountId}:root"
          Action: "kms:*"
          Resource: "*"

KeyAlias:
  Type: AWS::KMS::Alias
  Properties:
    AliasName: alias/myKmsKey
    TargetKeyId: !Ref KmsKey

Bucket:
  Type: AWS::S3::Bucket
  DeletionPolicy: Retain
  Properties:
    BucketEncryption:
      ServerSideEncryptionConfiguration:
        - ServerSideEncryptionByDefault:
            KMSMasterKeyID: !Sub "arn:aws:kms:${AWS::Region}:${AWS::AccountId}:${KeyAlias}"
            SSEAlgorithm: "aws:kms"
      </code>
    </pre>
</section>
